{"ast":null,"code":"import _regeneratorRuntime from\"/Users/alexrumyantsev/WebstormProjects/currency-converter/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/alexrumyantsev/WebstormProjects/currency-converter/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alexrumyantsev/WebstormProjects/currency-converter/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{fetchSortedCurrencies}from\"../http/currencyAPI\";import'../styles/CurrenciesPage.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CurrencyTable=function CurrencyTable(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),currencies=_useState2[0],setCurrencies=_useState2[1];var _useState3=useState('byName'),_useState4=_slicedToArray(_useState3,2),sortType=_useState4[0],setSortType=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var sortedCurrencies;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetchSortedCurrencies(sortType);case 3:sortedCurrencies=_context.sent;setCurrencies(sortedCurrencies);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching sorted currencies:\",_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[sortType]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Sort by:\",/*#__PURE__*/_jsxs(\"select\",{className:\"sort-type\",value:sortType,onChange:function onChange(e){return setSortType(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"byName\",children:\"Name\"}),/*#__PURE__*/_jsx(\"option\",{value:\"byValueToUSD\",children:\"Value to USD\"})]})]}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Value to USD\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:currencies.map(function(currency){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[currency.Cur_Scale,\" \",currency.Cur_Name]}),/*#__PURE__*/_jsx(\"td\",{children:currency.valueToUSD})]},currency.Cur_ID);})})]})]});};export default CurrencyTable;","map":{"version":3,"names":["React","useState","useEffect","fetchSortedCurrencies","jsx","_jsx","jsxs","_jsxs","CurrencyTable","_useState","_useState2","_slicedToArray","currencies","setCurrencies","_useState3","_useState4","sortType","setSortType","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","sortedCurrencies","wrap","_callee$","_context","prev","next","sent","t0","console","error","stop","apply","arguments","children","className","value","onChange","e","target","map","currency","Cur_Scale","Cur_Name","valueToUSD","Cur_ID"],"sources":["/Users/alexrumyantsev/WebstormProjects/currency-converter/client/src/components/CurrencyTable.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {fetchSortedCurrencies} from \"../http/currencyAPI\";\nimport '../styles/CurrenciesPage.css'\n\nconst CurrencyTable = () => {\n    const [currencies, setCurrencies] = useState([]);\n    const [sortType, setSortType] = useState('byName');\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const sortedCurrencies = await fetchSortedCurrencies(sortType);\n                setCurrencies(sortedCurrencies);\n            } catch (error) {\n                console.error(\"Error fetching sorted currencies:\", error);\n            }\n        };\n\n        fetchData();\n    }, [sortType]);\n\n    return (\n        <div>\n            <label>Sort by:\n                <select className={\"sort-type\"} value={sortType} onChange={e => setSortType(e.target.value)}>\n                    <option value=\"byName\">Name</option>\n                    <option value=\"byValueToUSD\">Value to USD</option>\n                </select>\n            </label>\n\n            <table>\n                <thead>\n                <tr>\n                    <th>Name</th>\n                    <th>Value to USD</th>\n                </tr>\n                </thead>\n                <tbody>\n                {currencies.map(currency => (\n                    <tr key={currency.Cur_ID}>\n                        <td>{currency.Cur_Scale} {currency.Cur_Name}</td>\n                        <td>{currency.valueToUSD}</td>\n                    </tr>\n                ))}\n                </tbody>\n            </table>\n        </div>\n    );\n}\n\nexport default CurrencyTable;\n"],"mappings":"kdAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAAQC,qBAAqB,KAAO,qBAAqB,CACzD,MAAO,8BAA8B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAErC,GAAM,CAAAC,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CACxB,IAAAC,SAAA,CAAoCR,QAAQ,CAAC,EAAE,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAAgCb,QAAQ,CAAC,QAAQ,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3CE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5Bb,SAAS,CAAC,UAAM,CACZ,GAAM,CAAAgB,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,gBAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEqB,CAAA1B,qBAAqB,CAACa,QAAQ,CAAC,QAAxDQ,gBAAgB,CAAAG,QAAA,CAAAG,IAAA,CACtBjB,aAAa,CAACW,gBAAgB,CAAC,CAACG,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAI,EAAA,CAAAJ,QAAA,aAEhCK,OAAO,CAACC,KAAK,CAAC,mCAAmC,CAAAN,QAAA,CAAAI,EAAO,CAAC,CAAC,yBAAAJ,QAAA,CAAAO,IAAA,MAAAX,OAAA,gBAEjE,kBAPK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAgB,KAAA,MAAAC,SAAA,OAOd,CAEDlB,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,CAACF,QAAQ,CAAC,CAAC,CAEd,mBACIT,KAAA,QAAA8B,QAAA,eACI9B,KAAA,UAAA8B,QAAA,EAAO,UACH,cAAA9B,KAAA,WAAQ+B,SAAS,CAAE,WAAY,CAACC,KAAK,CAAEvB,QAAS,CAACwB,QAAQ,CAAE,SAAAA,SAAAC,CAAC,QAAI,CAAAxB,WAAW,CAACwB,CAAC,CAACC,MAAM,CAACH,KAAK,CAAC,EAAC,CAAAF,QAAA,eACxFhC,IAAA,WAAQkC,KAAK,CAAC,QAAQ,CAAAF,QAAA,CAAC,MAAI,CAAQ,CAAC,cACpChC,IAAA,WAAQkC,KAAK,CAAC,cAAc,CAAAF,QAAA,CAAC,cAAY,CAAQ,CAAC,EAC9C,CAAC,EACN,CAAC,cAER9B,KAAA,UAAA8B,QAAA,eACIhC,IAAA,UAAAgC,QAAA,cACA9B,KAAA,OAAA8B,QAAA,eACIhC,IAAA,OAAAgC,QAAA,CAAI,MAAI,CAAI,CAAC,cACbhC,IAAA,OAAAgC,QAAA,CAAI,cAAY,CAAI,CAAC,EACrB,CAAC,CACE,CAAC,cACRhC,IAAA,UAAAgC,QAAA,CACCzB,UAAU,CAAC+B,GAAG,CAAC,SAAAC,QAAQ,qBACpBrC,KAAA,OAAA8B,QAAA,eACI9B,KAAA,OAAA8B,QAAA,EAAKO,QAAQ,CAACC,SAAS,CAAC,GAAC,CAACD,QAAQ,CAACE,QAAQ,EAAK,CAAC,cACjDzC,IAAA,OAAAgC,QAAA,CAAKO,QAAQ,CAACG,UAAU,CAAK,CAAC,GAFzBH,QAAQ,CAACI,MAGd,CAAC,EACR,CAAC,CACK,CAAC,EACL,CAAC,EACP,CAAC,CAEd,CAAC,CAED,cAAe,CAAAxC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}