{"ast":null,"code":"var _jsxFileName = \"/Users/alexrumyantsev/WebstormProjects/currency-converter/client/src/CurrencyConverter.jsx\",\n  _s = $RefreshSig$();\n// src/CurrencyConverter.js\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CurrencyConverter() {\n  _s();\n  const [currencies, setCurrencies] = useState([]);\n  const [values, setValues] = useState({\n    USD: 1\n  });\n  const [availableCurrencies, setAvailableCurrencies] = useState([]);\n  useEffect(() => {\n    fetch(\"https://api.nbrb.by/exrates/rates?periodicity=0\").then(res => res.json()).then(data => {\n      const initialCurrencies = ['USD', 'EUR', 'RUB', 'BYN'];\n      setCurrencies(data.filter(currency => initialCurrencies.includes(currency.Cur_Abbreviation)));\n      setAvailableCurrencies(data.filter(currency => !initialCurrencies.includes(currency.Cur_Abbreviation)));\n    });\n  }, []);\n  const handleChange = (curAbbreviation, value) => {\n    const rate = currencies.find(currency => currency.Cur_Abbreviation === curAbbreviation).Cur_OfficialRate;\n    const usdValue = curAbbreviation === 'USD' ? value : value / rate;\n    const newValues = {\n      USD: usdValue\n    };\n    currencies.forEach(currency => {\n      newValues[currency.Cur_Abbreviation] = usdValue * currency.Cur_OfficialRate;\n    });\n    setValues(newValues);\n  };\n  const addCurrency = newCurrency => {\n    setCurrencies([...currencies, newCurrency]);\n    setAvailableCurrencies(availableCurrencies.filter(currency => currency.Cur_Abbreviation !== newCurrency.Cur_Abbreviation));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [currencies.map(currency => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: values[currency.Cur_Abbreviation] || '',\n        onChange: e => handleChange(currency.Cur_Abbreviation, e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: currency.Cur_Abbreviation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this)]\n    }, currency.Cur_Abbreviation, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }, this)), availableCurrencies.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => addCurrency(availableCurrencies[0]),\n        children: [\"Add \", availableCurrencies[0].Cur_Abbreviation]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 9\n  }, this);\n}\n_s(CurrencyConverter, \"UJ5COu9tRVbhrIvPbYVABlydKDY=\");\n_c = CurrencyConverter;\nexport default CurrencyConverter;\nvar _c;\n$RefreshReg$(_c, \"CurrencyConverter\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","CurrencyConverter","_s","currencies","setCurrencies","values","setValues","USD","availableCurrencies","setAvailableCurrencies","fetch","then","res","json","data","initialCurrencies","filter","currency","includes","Cur_Abbreviation","handleChange","curAbbreviation","value","rate","find","Cur_OfficialRate","usdValue","newValues","forEach","addCurrency","newCurrency","children","map","type","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","length","onClick","_c","$RefreshReg$"],"sources":["/Users/alexrumyantsev/WebstormProjects/currency-converter/client/src/CurrencyConverter.jsx"],"sourcesContent":["// src/CurrencyConverter.js\nimport React, { useState, useEffect } from 'react';\n\nfunction CurrencyConverter() {\n    const [currencies, setCurrencies] = useState([]);\n    const [values, setValues] = useState({ USD: 1 });\n    const [availableCurrencies, setAvailableCurrencies] = useState([]);\n\n    useEffect(() => {\n        fetch(\"https://api.nbrb.by/exrates/rates?periodicity=0\")\n            .then(res => res.json())\n            .then(data => {\n                const initialCurrencies = ['USD', 'EUR', 'RUB', 'BYN'];\n                setCurrencies(data.filter(currency => initialCurrencies.includes(currency.Cur_Abbreviation)));\n                setAvailableCurrencies(data.filter(currency => !initialCurrencies.includes(currency.Cur_Abbreviation)));\n            });\n    }, []);\n\n    const handleChange = (curAbbreviation, value) => {\n        const rate = currencies.find(currency => currency.Cur_Abbreviation === curAbbreviation).Cur_OfficialRate;\n        const usdValue = curAbbreviation === 'USD' ? value : value / rate;\n        const newValues = { USD: usdValue };\n        currencies.forEach(currency => {\n            newValues[currency.Cur_Abbreviation] = usdValue * currency.Cur_OfficialRate;\n        });\n        setValues(newValues);\n    };\n\n    const addCurrency = (newCurrency) => {\n        setCurrencies([...currencies, newCurrency]);\n        setAvailableCurrencies(availableCurrencies.filter(currency => currency.Cur_Abbreviation !== newCurrency.Cur_Abbreviation));\n    };\n\n    return (\n        <div>\n            {currencies.map(currency => (\n                <div key={currency.Cur_Abbreviation}>\n                    <input\n                        type=\"number\"\n                        value={values[currency.Cur_Abbreviation] || ''}\n                        onChange={(e) => handleChange(currency.Cur_Abbreviation, e.target.value)}\n                    />\n                    <label>{currency.Cur_Abbreviation}</label>\n                </div>\n            ))}\n            {availableCurrencies.length > 0 && (\n                <div>\n                    <button onClick={() => addCurrency(availableCurrencies[0])}>Add {availableCurrencies[0].Cur_Abbreviation}</button>\n                </div>\n            )}\n        </div>\n    );\n}\n\nexport default CurrencyConverter;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}